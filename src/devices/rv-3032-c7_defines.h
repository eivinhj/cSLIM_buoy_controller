/*
 * rv-3032-c7_defines.h
 *
 * Created: 10.05.21
 *  Author: eivinhj
 */ 

#ifndef RV_3032_C7_DEFINES_H
#define RV_3032_C7_DEFINES_H

#define RV3032_SLAVE_ADDRESS	0b1010001

#define RV3032_100TH_SEC		0x00	
#define RV3032_SEC				0x01
#define RV3032_MIN				0x02
#define RV3032_HOUR				0x03
#define RV3032_WEEKDAY			0x04
#define RV3032_DATE				0x05
#define RV3032_MONTH			0x06
#define RV3032_YEAR				0x07
#define RV3032_ALARM_MIN		0x08
#define RV3032_ALARM_HOUR		0x09
#define RV3032_ALARM_DATE		0x0A
#define RV3032_TIM0_VAL			0x0B
#define RV3032_TIM1_VAL			0x0C
#define RV3032_STATUS			0x0D
#define RV3032_TEMP_LSB			0x0E
#define RV3032_TEMP_MSB			0x0F
#define RV3032_CTRL1			0x10
#define RV3032_CTRL2			0x11
#define RV3032_CTRL3			0x12
#define RV3032_TIMESTAMP_CTRL	0x13
#define RV3032_CLK_INT			0x14
#define RV3032_EVI_CTRL			0x15
#define RV3032_TLOW_TRES		0x16
#define RV3032_THIGH_TRES		0x17

#define RV3032_TS_LOW_CNT		0x18
#define RV3032_TS_LOW_SEC		0x19
#define RV3032_TS_LOW_MIN		0x1A
#define RV3032_TS_LOW_HOUR		0x1B
#define RV3032_TS_LOW_DATE		0x1C
#define RV3032_TS_LOW_MONTH		0x1D
#define RV3032_TS_LOW_YEAR		0x1E

#define RV3032_TS_HIGH_CNT		0x1F
#define RV3032_TS_HIGH_SEC		0x20
#define RV3032_TS_HIGH_MIN		0x21
#define RV3032_TS_HIGH_HOUR		0x22
#define RV3032_TS_HIGH_DATE		0x23
#define RV3032_TS_HIGH_MONTH	0x24
#define RV3032_TS_HIGH_YEAR		0x25

#define RV3032_TS_EVI_CNT		0x26
#define RV3032_TS_EVI_100TH		0x27
#define RV3032_TS_EVI_SEC		0x28
#define RV3032_TS_EVI_MIN		0x29
#define RV3032_TS_EVI_HOUR		0x2A
#define RV3032_TS_EVI_DATE		0x2B
#define RV3032_TS_EVI_MONTH		0x2C
#define RV3032_TS_EVI_YEAR		0x2D

#define RV3032_PWD0				0x39
#define RV3032_PWD1				0x3A
#define RV3032_PWD2				0x3B
#define RV3032_PWD3				0x3C
#define RV3032_EEPROM_ADDR		0x3D
#define RV3032_EEPROM_DATA		0x3E
#define RV3032_EEPROM_CMD		0x3F
#define RV3032_RAM1				0x40

#define RV3032_PMU				0xC0
#define RV3032_OFFSET			0xC1
#define RV3032_CLKOUT1			0xC2
#define RV3032_CLKOUT2			0xC3
#define RV3032_TREF0			0xC4
#define RV3032_TREF1			0xC5

#define RV3032_EEPROM_PWD0		0xC6
#define RV3032_EEPROM_PWD1		0xC7
#define RV3032_EEPROM_PWD2		0xC8
#define RV3032_EEPROM_PWD3		0xC9
#define RV3032_EEPROM_PWD_EN	0xCA
#define RV3032_EEPROM_USER		0xCB

//Bit positions

#define RV3032_ALARM_MIN_ENABLE_POS 	7
#define RV3032_ALARM_HOUR_ENABLE_POS 	7
#define RV3032_ALARM_DATE_ENABLE_POS 	7

#define RV3032_STATUS_THF_POS 			7
#define RV3032_STATUS_TLF_POS 			6
#define RV3032_STATUS_UF_POS 			5
#define RV3032_STATUS_TF_POS 			4
#define RV3032_STATUS_AF_POS 			3
#define RV3032_STATUS_EVF_POS 			2
#define RV3032_STATUS_PORF_POS 			1
#define RV3032_STATUS_VLF_POS 			0

#define RV3032_TEMP_LSB_TEMP_POS 		4
#define RV3032_TEMP_LSB_EEF_POS			3
#define RV3032_TEMP_LSB_EEBUSY_POS		2
#define RV3032_TEMP_LSB_CLKF_POS		1
#define RV3032_TEMP_LSB_BSF_POS			0

#define RV3032_CTRL1_USEL_POS			4
#define RV3032_CTRL1_TE_POS				3
#define RV3032_CTRL1_EERD_POS			2
#define RV3032_CTRL1_TD_POS				0

#define RV3032_CTRL2_CLKIE_POS			6
#define RV3032_CTRL2_UIE_POS			5
#define RV3032_CTRL2_TIE_POS			4
#define RV3032_CTRL2_AIE_POS			3
#define RV3032_CTRL2_EIE_POS			2
#define RV3032_CTRL2_STOP_POS			0

#define RV3032_CTRL3_BSIE_POS			4
#define RV3032_CTRL3_THE_POS			3
#define RV3032_CTRL3_TLE_POS			2
#define RV3032_CTRL3_THIE_POS			1
#define RV3032_CTRL3_TLIE_POS			0

#define RV3032_TIMESTAMP_CTRL_EVR_POS	5
#define RV3032_TIMESTAMP_CTRL_THR_POS	4
#define RV3032_TIMESTAMP_CTRL_TLR_POS	3
#define RV3032_TIMESTAMP_CTRL_EVOW_POS	2
#define RV3032_TIMESTAMP_CTRL_THOW_POS	1
#define RV3032_TIMESTAMP_CTRL_TLOW_POS	0
#define RV3032_CLK_INT_CLKD_POS			7
#define RV3032_CLK_INT_INTDE_POS		6
#define RV3032_CLK_INT_CEIE_POS			5
#define RV3032_CLK_INT_CAIE_POS			4
#define RV3032_CLK_INT_CTIE_POS			3
#define RV3032_CLK_INT_CUIE_POS			2
#define RV3032_CLK_INT_CTHIE_POS		1
#define RV3032_CLK_INT_CTLIE_POS		0
#define RV3032_EVI_CTRL_CLKDE_POS		7
#define RV3032_EVI_CTRL_EHL_POS			6
#define RV3032_EVI_CTRL_ET_POS			4
#define RV3032_EVI_CTRL_ESYN_POS		0

#define RV3032_PMU_NCLKE_POS			6
#define RV3032_PMU_BSM_POS				4
#define RV3032_PMU_TCR_POS				2
#define RV3032_PMU_TCM_POS				0

#define RV3032_OFFSET_PORIE_POS			7
#define RV3032_OFFSET_VLIE_POS			6
#define RV3032_OFFSET_OFFSET_POS		0

#define RV3032_CLKOUT1_HFD_POS			0

#define RV3032_CLKOUT2_OS_POS			7
#define RV3032_CLKOUT2_FD_POS			5
#define RV3032_CLKOUT2_HFD_POS			0

//
#define RV3032_ALARM_MIN_ENABLE  	(1u	<< RV3032_ALARM_MIN_ENABLE_POS	)
#define RV3032_ALARM_HOUR_ENABLE 	(1u	<< RV3032_ALARM_HOUR_ENABLE_POS	)
#define RV3032_ALARM_DATE_ENABLE 	(1u	<< RV3032_ALARM_DATE_ENABLE_POS	)
 
#define RV3032_STATUS_THF 			(1u << RV3032_STATUS_THF_POS	)
#define RV3032_STATUS_TLF			(1u << RV3032_STATUS_TLF_POS	)
#define RV3032_STATUS_UF			(1u << RV3032_STATUS_UF_POS		)
#define RV3032_STATUS_TF			(1u << RV3032_STATUS_TF_POS		)
#define RV3032_STATUS_AF			(1u << RV3032_STATUS_AF_POS		)
#define RV3032_STATUS_EVF 			(1u << RV3032_STATUS_EVF_POS	)
#define RV3032_STATUS_PORF	 		(1u << RV3032_STATUS_PORF_POS	)
#define RV3032_STATUS_VLF 			(1u << RV3032_STATUS_VLF_POS	)
  

#define RV3032_TEMP_LSB_EEF			(1u << RV3032_TEMP_LSB_EEF_POS		)
#define RV3032_TEMP_LSB_EEBUSY		(1u << RV3032_TEMP_LSB_EEBUSY_POS	)
#define RV3032_TEMP_LSB_CLKF		(1u << RV3032_TEMP_LSB_CLKF_POS		)
#define RV3032_TEMP_LSB_BSF			(1u << RV3032_TEMP_LSB_BSF_POS		)	

#define RV3032_CTRL1_USEL			(1u << RV3032_CTRL1_USEL_POS	)
#define RV3032_CTRL1_TE				(1u << RV3032_CTRL1_TE_POS		)
#define RV3032_CTRL1_EERD			(1u << RV3032_CTRL1_EERD_POS	)
#define RV3032_CTRL1_TD				(1u << RV3032_CTRL1_TD_POS		)

#define RV3032_CTRL2_CLKIE			(1u << RV3032_CTRL2_CLKIE_POS	)
#define RV3032_CTRL2_UIE			(1u << RV3032_CTRL2_UIE_POS		)
#define RV3032_CTRL2_TIE			(1u << RV3032_CTRL2_TIE_POS		)
#define RV3032_CTRL2_AIE			(1u << RV3032_CTRL2_AIE_POS		)
#define RV3032_CTRL2_EIE			(1u << RV3032_CTRL2_EIE_POS		)
#define RV3032_CTRL2_STOP			(1u << RV3032_CTRL2_STOP_POS	)

#define RV3032_CTRL3_BSIE			(1u << RV3032_CTRL3_BSIE_POS	)
#define RV3032_CTRL3_THE			(1u << RV3032_CTRL3_THE_POS		)
#define RV3032_CTRL3_TLE			(1u << RV3032_CTRL3_TLE_POS		)
#define RV3032_CTRL3_THIE			(1u << RV3032_CTRL3_THIE_POS	)
#define RV3032_CTRL3_TLIE			(1u << RV3032_CTRL3_TLIE_POS	)

#define RV3032_TIMESTAMP_CTRL_EVR	(1u << RV3032_TIMESTAMP_CTRL_EVR_POS	)
#define RV3032_TIMESTAMP_CTRL_THR	(1u << RV3032_TIMESTAMP_CTRL_THR_POS	)
#define RV3032_TIMESTAMP_CTRL_TLR	(1u << RV3032_TIMESTAMP_CTRL_TLR_POS	)
#define RV3032_TIMESTAMP_CTRL_EVOW	(1u << RV3032_TIMESTAMP_CTRL_EVOW_POS	)
#define RV3032_TIMESTAMP_CTRL_THOW	(1u << RV3032_TIMESTAMP_CTRL_THOW_POS	)
#define RV3032_TIMESTAMP_CTRL_TLOW	(1u << RV3032_TIMESTAMP_CTRL_TLOW_POS	)

#define RV3032_CLK_INT_CLKD			(1u << RV3032_CLK_INT_CLKD_POS 		)
#define RV3032_CLK_INT_INTDE		(1u << RV3032_CLK_INT_INTDE_POS		)
#define RV3032_CLK_INT_CEIE			(1u << RV3032_CLK_INT_CEIE_POS		)
#define RV3032_CLK_INT_CAIE			(1u << RV3032_CLK_INT_CAIE_POS		)
#define RV3032_CLK_INT_CTIE			(1u << RV3032_CLK_INT_CTIE_POS		)
#define RV3032_CLK_INT_CUIE			(1u << RV3032_CLK_INT_CUIE_POS		)
#define RV3032_CLK_INT_CTHIE		(1u << RV3032_CLK_INT_CTHIE_POS		)	
#define RV3032_CLK_INT_CTLIE		(1u << RV3032_CLK_INT_CTLIE_POS		)	
#define RV3032_EVI_CTRL_CLKDE		(1u << RV3032_EVI_CTRL_CLKDE_POS	)	
#define RV3032_EVI_CTRL_EHL			(1u << RV3032_EVI_CTRL_EHL_POS		)
#define RV3032_EVI_CTRL_ET			(1u << RV3032_EVI_CTRL_ET_POS		)
#define RV3032_EVI_CTRL_ESYN		(1u << RV3032_EVI_CTRL_ESYN_POS		)

#define RV3032_PMU_NCLKE 					(1u <<RV3032_PMU_NCLKE_POS 	)
#define RV3032_PMU_BSM_SW_DIS_DEFAULT 		(0b00 <<RV3032_PMU_BSM_POS  )
#define RV3032_PMU_BSM_SW_DSM 				(0b01 <<RV3032_PMU_BSM_POS 	)
#define RV3032_PMU_BSM_SW_LSM 				(0b10 <<RV3032_PMU_BSM_POS 	)
#define RV3032_PMU_BSM_SW_DIS 				(0b11 <<RV3032_PMU_BSM_POS 	)

#define RV3032_PMU_TCR_1K 					(0b00 <<RV3032_PMU_TCR_POS  )
#define RV3032_PMU_TCR_2K 					(0b01 <<RV3032_PMU_TCR_POS  )
#define RV3032_PMU_TCR_7K 					(0b10 <<RV3032_PMU_TCR_POS  )
#define RV3032_PMU_TCR_11K					(0b11 <<RV3032_PMU_TCR_POS  )

#define RV3032_PMU_TCM_OFF 					(0b00 <<RV3032_PMU_TCM_POS 	)
#define RV3032_PMU_TCM_1V75 				(0b01 <<RV3032_PMU_TCM_POS 	)
#define RV3032_PMU_TCM_3V0 					(0b10 <<RV3032_PMU_TCM_POS 	)
#define RV3032_PMU_TCM_4V4 					(0b11 <<RV3032_PMU_TCM_POS 	)

#define RV3032_OFFSET_PORIE 				(1u <<RV3032_OFFSET_PORIE_POS 	)
#define RV3032_OFFSET_VLIE 					(1u <<RV3032_OFFSET_VLIE_POS 	)

#define RV3032_CLKOUT2_OS 					(1u << 	RV3032_CLKOUT2_OS_POS 	)
#define RV3032_CLKOUT2_FD_32768HZ			(0b00 <<  RV3032_CLKOUT2_FD_POS )
#define RV3032_CLKOUT2_FD_1024HZ			(0b01 <<  RV3032_CLKOUT2_FD_POS )
#define RV3032_CLKOUT2_FD_64HZ				(0b10 <<  RV3032_CLKOUT2_FD_POS )
#define RV3032_CLKOUT2_FD_1HZ				(0b11 <<  RV3032_CLKOUT2_FD_POS )


//Macros
#define RV3032_ALARM_MIN_MASK(min)  			((min) &(0x7F)	<< RV3032_ALARM_MIN_ENABLE_POS	)
#define RV3032_ALARM_HOUR_MASK(hour)  			((hour)&(0x7F)	<< RV3032_ALARM_HOUR_ENABLE_POS	)
#define RV3032_ALARM_DATE_MASK(date)  			((date)&(0x7F)	<< RV3032_ALARM_DATE_ENABLE_POS	)

#define RV3032_TEMP_LSB_TEMP_GET(temp_lsb) 		((temp_lsb >> RV3032_TEMP_LSB_TEMP_POS)	&0x0F	)

#define RV3032_CLKOUT1_HFD_MASK(hfd)			((hfd & 0xff ) 			<<  RV3032_CLKOUT1_HFD_POS 	)
#define RV3032_CLKOUT2_HFD_MASK(hfd)			(((hfd & 0x1f00 ) >> 8) <<  RV3032_CLKOUT2_HFD_POS 	)

#define RV3032_OFFSET_OFFSET_MASK(offset)		((offset & 0x3F) <<RV3032_OFFSET_OFFSET_POS 	)

//EEPROM Commands
#define RV3032_EEPROM_CMD_UPDATE	0x11
#define RV3032_EEPROM_CMD_REFRESH	0x12
#define RV3032_EEPROM_CMD_WRITE		0x21
#define RV3032_EEPROM_CMD_READ		0x22

typedef enum {
	F_32768HZ,
	F_1024HZ,
	F_64HZ,
	F_1HZ
} RV3032_CLKOUT_FREQUENCY;

#endif// RV_3032_C7_DEFINES_H